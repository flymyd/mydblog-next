generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model article {
  id                          Int                           @id @default(autoincrement())
  createdDate                 DateTime                      @default(now()) @db.DateTime(6)
  updatedDate                 DateTime                      @default(now()) @db.DateTime(6)
  title                       String                        @db.VarChar(100)
  abstract                    String?                       @db.Text
  article                     String                        @db.VarChar(255)
  poster                      String?                       @db.Text
  isDisabled                  Int                           @default(0) @db.TinyInt
  isTop                       Int                           @default(0) @db.TinyInt
  article_categories_category article_categories_category[]
  article_tags_tag            article_tags_tag[]
}

model article_categories_category {
  articleId  Int
  categoryId Int
  article    article  @relation(fields: [articleId], references: [id], onDelete: Cascade, map: "FK_4ba35bcb36b2715f61faa696c7e")
  category   category @relation(fields: [categoryId], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_5d9199768aa2bd9f91d175dc6d1")

  @@id([articleId, categoryId])
  @@index([articleId], map: "IDX_4ba35bcb36b2715f61faa696c7")
  @@index([categoryId], map: "IDX_5d9199768aa2bd9f91d175dc6d")
}

model article_tags_tag {
  articleId Int
  tagId     Int
  tag       tag     @relation(fields: [tagId], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_5fee2a10f8d6688bd2f2c50f15e")
  article   article @relation(fields: [articleId], references: [id], onDelete: Cascade, map: "FK_9b7dd28292e2799512cd70bfd81")

  @@id([articleId, tagId])
  @@index([tagId], map: "IDX_5fee2a10f8d6688bd2f2c50f15")
  @@index([articleId], map: "IDX_9b7dd28292e2799512cd70bfd8")
}

model category {
  id                          Int                           @id @default(autoincrement())
  createdDate                 DateTime                      @default(now()) @db.DateTime(6)
  updatedDate                 DateTime                      @default(now()) @db.DateTime(6)
  name                        String                        @db.VarChar(255)
  article_categories_category article_categories_category[]
}

model myfile {
  id          Int      @id @default(autoincrement())
  createdDate DateTime @default(now()) @db.DateTime(6)
  updatedDate DateTime @default(now()) @db.DateTime(6)
  name        String   @db.VarChar(255)
  remarks     String?  @db.VarChar(255)
  originType  String?  @db.VarChar(255)
  uuid        String   @db.VarChar(36)
}

model tag {
  id               Int                @id @default(autoincrement())
  createdDate      DateTime           @default(now()) @db.DateTime(6)
  updatedDate      DateTime           @default(now()) @db.DateTime(6)
  name             String             @db.VarChar(255)
  article_tags_tag article_tags_tag[]
}

model user {
  id           Int      @id @default(autoincrement())
  createdDate  DateTime @default(now()) @db.DateTime(6)
  updatedDate  DateTime @default(now()) @db.DateTime(6)
  userName     String   @db.VarChar(100)
  nickName     String   @db.VarChar(255)
  password     String   @db.VarChar(255)
  passwordSalt String   @db.VarChar(255)
}
